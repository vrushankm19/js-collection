<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>CodePen - Multiple line ellipsis</title>
        <style type="text/css">
            .container {
                background: aliceblue;
                height: 120px;
                overflow: hidden;
                padding: 10px;
                width: 300px;
            }
            .content {
                margin: 0;
            }

            .multiline-ellipsis {
                display: -webkit-box;
                -webkit-line-clamp: 5;
                -webkit-box-orient: vertical;
                overflow: hidden;
                text-overflow: ellipsis;
            }
        </style>
    </head>
    <body>
        <!-- partial:index.partial.html -->
        <h2>Javascript + jQuery</h2>
        <div class="container js-container">
            <p class="content js-content">
                No, my father didn't fight in the wars. He was a navigator on a spice freighter. That's what your uncle told you. He didn't hold with your father's ideals. Thought he should have stayed here and not gotten involved. You
                fought in the Clone Wars? Yes, I was once a Jedi Knight the same as your father. I wish I'd known him. He was the best star-pilot in the galaxy, and a cunning warrior. I understand you've become quite a good pilot yourself.
                And he was a good friend. Which reminds me... I have something here for you. Your father wanted you to have this when you were old enough, but your uncle wouldn't allow it. He feared you might follow old Obi-Wan on some
                damned-fool idealistic crusade like your father did. And what of the Rebellion? If the Rebels have obtained a complete technical readout of this station, it is possible, however unlikely, that they might find a weakness and
                exploit it. The plans you refer to will soon be back in our hands. Any attack made by the Rebels against this station would be a useless gesture, no matter what technical data they've obtained. This station is now the
                ultimate power in the universe. I suggest we use it!
            </p>
        </div>

        <h2>CSS</h2>
        <a href="http://caniuse.com/#search=-webkit-line-clamp" target="_blank">compatibility issues</a>
        <div class="container">
            <p class="content multiline-ellipsis">
                No, my father didn't fight in the wars. He was a navigator on a spice freighter. That's what your uncle told you. He didn't hold with your father's ideals. Thought he should have stayed here and not gotten involved. You
                fought in the Clone Wars? Yes, I was once a Jedi Knight the same as your father. I wish I'd known him. He was the best star-pilot in the galaxy, and a cunning warrior. I understand you've become quite a good pilot yourself.
                And he was a good friend. Which reminds me... I have something here for you. Your father wanted you to have this when you were old enough, but your uncle wouldn't allow it. He feared you might follow old Obi-Wan on some
                damned-fool idealistic crusade like your father did. And what of the Rebellion? If the Rebels have obtained a complete technical readout of this station, it is possible, however unlikely, that they might find a weakness and
                exploit it. The plans you refer to will soon be back in our hands. Any attack made by the Rebels against this station would be a useless gesture, no matter what technical data they've obtained. This station is now the
                ultimate power in the universe. I suggest we use it!
            </p>
        </div>
        <!-- partial -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>

        <script type="text/javascript">
            var content = $(".js-content");
            var container = content.closest(".js-container").height();

            while (content.outerHeight() > container) {
                content.text(function (index, text) {
                    return text.replace(/\W*\s(\S)*$/, "...");
                });
            }
        </script>
    </body>
</html>
